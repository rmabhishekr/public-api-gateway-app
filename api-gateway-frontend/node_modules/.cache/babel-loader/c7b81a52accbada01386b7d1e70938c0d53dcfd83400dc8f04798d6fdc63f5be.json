{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(_ref){let{token}=_ref;const[items,setItems]=useState([]);const[error,setError]=useState(\"\");const backendUrl=process.env.REACT_APP_BACKEND_URL;useEffect(()=>{async function fetchDashboard(){setError(\"\");try{const res=await axios.get(\"\".concat(backendUrl,\"/api/dashboard\"),{headers:{Authorization:\"Bearer \".concat(token)}});setItems(res.data);}catch(err){setError(\"Failed to fetch dashboard.\");setItems([]);}}fetchDashboard();},[token,backendUrl]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Stored API Responses\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:error}),items.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"No APIs stored yet.\"}):/*#__PURE__*/_jsx(\"ul\",{children:items.map((item,idx)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"URL:\"}),\" \",item.url,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Response:\"}),/*#__PURE__*/_jsx(\"pre\",{style:{background:\"#eee\",padding:\"10px\"},children:item.jsonResponse})]},idx))})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","token","items","setItems","error","setError","backendUrl","process","env","REACT_APP_BACKEND_URL","fetchDashboard","res","get","concat","headers","Authorization","data","err","children","style","color","length","map","item","idx","url","background","padding","jsonResponse"],"sources":["C:/Users/abhir/OneDrive/Desktop/New folder/api-gateway-app/frontend/api-gateway-frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Dashboard({ token }) {\r\n  const [items, setItems] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const backendUrl = process.env.REACT_APP_BACKEND_URL;\r\n\r\n  useEffect(() => {\r\n    async function fetchDashboard() {\r\n      setError(\"\");\r\n      try {\r\n        const res = await axios.get(`${backendUrl}/api/dashboard`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setItems(res.data);\r\n      } catch (err) {\r\n        setError(\"Failed to fetch dashboard.\");\r\n        setItems([]);\r\n      }\r\n    }\r\n    fetchDashboard();\r\n  }, [token, backendUrl]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Your Stored API Responses</h2>\r\n      {error && <div style={{ color: \"red\" }}>{error}</div>}\r\n      {items.length === 0 ? (\r\n        <div>No APIs stored yet.</div>\r\n      ) : (\r\n        <ul>\r\n          {items.map((item, idx) => (\r\n            <li key={idx}>\r\n              <strong>URL:</strong> {item.url}\r\n              <br />\r\n              <strong>Response:</strong>\r\n              <pre style={{ background: \"#eee\", padding: \"10px\" }}>\r\n                {item.jsonResponse}\r\n              </pre>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAY,IAAX,CAAEC,KAAM,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAa,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAEpDjB,SAAS,CAAC,IAAM,CACd,cAAe,CAAAkB,cAAcA,CAAA,CAAG,CAC9BL,QAAQ,CAAC,EAAE,CAAC,CACZ,GAAI,CACF,KAAM,CAAAM,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,IAAAC,MAAA,CAAIP,UAAU,mBAAkB,CACzDQ,OAAO,CAAE,CAAEC,aAAa,WAAAF,MAAA,CAAYZ,KAAK,CAAG,CAC9C,CAAC,CAAC,CACFE,QAAQ,CAACQ,GAAG,CAACK,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACZZ,QAAQ,CAAC,4BAA4B,CAAC,CACtCF,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CACAO,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACT,KAAK,CAAEK,UAAU,CAAC,CAAC,CAEvB,mBACER,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,2BAAyB,CAAI,CAAC,CACjCd,KAAK,eAAIR,IAAA,QAAKuB,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAEd,KAAK,CAAM,CAAC,CACpDF,KAAK,CAACmB,MAAM,GAAK,CAAC,cACjBzB,IAAA,QAAAsB,QAAA,CAAK,qBAAmB,CAAK,CAAC,cAE9BtB,IAAA,OAAAsB,QAAA,CACGhB,KAAK,CAACoB,GAAG,CAAC,CAACC,IAAI,CAAEC,GAAG,gBACnB1B,KAAA,OAAAoB,QAAA,eACEtB,IAAA,WAAAsB,QAAA,CAAQ,MAAI,CAAQ,CAAC,IAAC,CAACK,IAAI,CAACE,GAAG,cAC/B7B,IAAA,QAAK,CAAC,cACNA,IAAA,WAAAsB,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BtB,IAAA,QAAKuB,KAAK,CAAE,CAAEO,UAAU,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAT,QAAA,CACjDK,IAAI,CAACK,YAAY,CACf,CAAC,GANCJ,GAOL,CACL,CAAC,CACA,CACL,EACE,CAAC,CAEV,CAEA,cAAe,CAAAzB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}